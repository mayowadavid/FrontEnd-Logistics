{"ast":null,"code":"import axios from 'axios';\nimport { api } from '../urlConfig';\nconst server = true;\nlet token;\n\nif (!server) {\n  let token = localStorage.getItem('token');\n}\n\nconsole.log(token);\nconst axiosInstance = axios.create({\n  baseURL: api,\n  headers: {\n    'authorization': token ? `Bearer ${token}` : ''\n  }\n}); // axiosInstance.interceptors.response.use((res)=> {\n//     return res},\n//      (error.response)=> {\n//         // The request was made and the server responded with a status code\n//         // that falls out of the range of 2xx\n//         console.log(error.response.data);\n//         console.log(error.response.status);\n//         console.log(error.response.headers);\n//         error.response.status && (\n//           error.response.status == '500' || '400' && (\n//             axios.post('/signout'),\n//             localStorage.clear(),\n//             router.replace('/login')\n//           )\n//         )\n//       }\n//     )\n\nexport default axiosInstance;","map":{"version":3,"sources":["H:/G4 Logistics/FrontEnd/helpers/axios.js"],"names":["axios","api","server","token","localStorage","getItem","console","log","axiosInstance","create","baseURL","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,cAApB;AAEA,MAAMC,MAAM,OAAZ;AACA,IAAIC,KAAJ;;AACA,IAAG,CAACD,MAAJ,EAAW;AACP,MAAIC,KAAK,GAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX;AACH;;AACDC,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACA,MAAMK,aAAa,GAAGR,KAAK,CAACS,MAAN,CAAa;AAC/BC,EAAAA,OAAO,EAAET,GADsB;AAE/BU,EAAAA,OAAO,EAAE;AAAC,qBAAiBR,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAsB;AAA7C;AAFsB,CAAb,CAAtB,C,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeK,aAAf","sourcesContent":["import axios from 'axios';\r\nimport { api } from '../urlConfig'; \r\n\r\nconst server = typeof window === 'undefined';\r\nlet token;\r\nif(!server){\r\n    let token =localStorage.getItem('token');\r\n}\r\nconsole.log(token);\r\nconst axiosInstance = axios.create({\r\n    baseURL: api,\r\n    headers: {'authorization': token ? `Bearer ${token}`: ''}\r\n});\r\n\r\n// axiosInstance.interceptors.response.use((res)=> {\r\n//     return res},\r\n//      (error.response)=> {\r\n//         // The request was made and the server responded with a status code\r\n//         // that falls out of the range of 2xx\r\n//         console.log(error.response.data);\r\n//         console.log(error.response.status);\r\n//         console.log(error.response.headers);\r\n//         error.response.status && (\r\n//           error.response.status == '500' || '400' && (\r\n//             axios.post('/signout'),\r\n//             localStorage.clear(),\r\n//             router.replace('/login')\r\n//           )\r\n//         )\r\n//       }\r\n//     )\r\n    \r\nexport default axiosInstance;"]},"metadata":{},"sourceType":"module"}