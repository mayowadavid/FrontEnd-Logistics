{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"H:\\\\G4 Logistics\\\\FrontEnd\\\\components\\\\profile\\\\profileEdit.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { useContext, useState, useEffect } from 'react';\nimport { ClientContext } from '../context/ClientContext';\nimport { avatar } from \"../../svg\";\nimport { generatePublicUrl } from '../../urlConfig';\nimport { profileValidate } from '../validator/validate';\n\nvar ProfileEdit = function ProfileEdit() {\n  _s();\n\n  var initialState = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    phoneNumber: '',\n    address: '',\n    profileImage: '',\n    formErrors: {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phoneNumber: '',\n      address: ''\n    }\n  };\n\n  var _useContext = useContext(ClientContext),\n      setCount = _useContext.setCount,\n      profile = _useContext.profile,\n      temporaryImage = _useContext.temporaryImage;\n\n  var _useState = useState(initialState ? initialState.firstName : ''),\n      firstName = _useState[0],\n      setFirstName = _useState[1];\n\n  var _useState2 = useState(initialState ? initialState.lastName : ''),\n      lastName = _useState2[0],\n      setLastName = _useState2[1];\n\n  var _useState3 = useState(initialState ? initialState.email : ''),\n      email = _useState3[0],\n      setEmail = _useState3[1];\n\n  var _useState4 = useState(initialState ? initialState.phoneNumber : ''),\n      phoneNumber = _useState4[0],\n      setPhoneNumber = _useState4[1];\n\n  var _useState5 = useState(initialState ? initialState.address : ''),\n      address = _useState5[0],\n      setAddress = _useState5[1];\n\n  var _useState6 = useState(initialState ? initialState.profileImage : ''),\n      profileImage = _useState6[0],\n      setProfileImage = _useState6[1];\n\n  var _useState7 = useState(),\n      form = _useState7[0],\n      setForm = _useState7[1];\n\n  var handleProfilePreview = function handleProfilePreview(e) {\n    e.preventDefault();\n    var form = new FormData();\n    form.append('profileImage', profileImage);\n    form.append('firstName', firstName);\n    form.append('email', email);\n    form.append('lastName', lastName);\n    form.append('phoneNumber', phoneNumber);\n    form.append('address', address);\n\n    var _iterator = _createForOfIteratorHelper(form.entries()),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var pair = _step.value;\n        console.log([pair[0] + ',' + pair[1]]);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    setForm(form);\n    setCount('active');\n  };\n\n  var handleProfileChange = function handleProfileChange(e) {\n    e.preventDefault();\n\n    if (e.target.files) {\n      setProfileImage(e.target.files[0]);\n      var Format = ['image/jpeg', 'image/png', 'image/gif', 5000000];\n      var hold = URL.createObjectURL(e.target.files[0]);\n      setTemporaryImage(hold);\n      URL.revokeObjectURL(e.target.files[0]);\n    }\n  };\n\n  useEffect(function () {\n    updatedProfile();\n  }, [profile]);\n  useEffect(function () {\n    var form = new FormData();\n    form.append('firstName', firstName);\n    form.append('lastName', lastName);\n    form.append('email', email);\n    form.append('phoneNumber', phoneNumber);\n    form.append('address', address);\n    form.append('profileImage', profileImage);\n    setForm(form);\n\n    var _iterator2 = _createForOfIteratorHelper(form.entries()),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var pair = _step2.value;\n        console.log([pair[0] + ',' + pair[1]]);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }, []);\n\n  var updatedProfile = function updatedProfile() {\n    if (profile.firstName !== '') {\n      var _firstName = profile.firstName,\n          _lastName = profile.lastName,\n          _email = profile.email,\n          _phoneNumber = profile.phoneNumber,\n          _address = profile.address,\n          _profileImage = profile.profileImage;\n      setFirstName(_firstName);\n      setLastName(_lastName);\n      setPhoneNumber(_phoneNumber);\n      setProfileImage(_profileImage);\n      setAddress(_address);\n      setEmail(_email);\n    }\n  };\n\n  var formErrors = initialState.formErrors;\n  console.log(firstName);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-avatar\",\n        children: temporaryImage || profileImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: temporaryImage ? temporaryImage : generatePublicUrl(profileImage)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 50\n        }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"profilePicture\",\n            onChange: handleProfileChange,\n            id: \"file\",\n            accept: \"/.jpg, .png, gif\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file\",\n            children: [avatar(), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Upload avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 133\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: profile._id && function (e) {\n          return handleProfilePreview(e);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"firstName\",\n              children: \"First Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: function onChange(e) {\n                var _e$target = e.target,\n                    name = _e$target.name,\n                    value = _e$target.value;\n                profileValidate(name, value, formErrors);\n                setFirstName(e.target.value);\n              },\n              id: \"firstName\",\n              name: \"firstName\",\n              value: firstName,\n              placeholder: \"Your name..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 19\n            }, _this), formErrors.firstName.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errorMessage\",\n              children: formErrors.firstName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 21\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"lastName\",\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: function onChange(e) {\n                return setLastName(e.target.value);\n              },\n              id: \"lastName\",\n              name: \"lastName\",\n              value: lastName,\n              placeholder: \"Your last name..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }, _this), formErrors.lastName.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errorMessage\",\n              children: formErrors.lastName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 21\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: function onChange(e) {\n                return setEmail(e.target.value);\n              },\n              id: \"email\",\n              name: \"email\",\n              value: email,\n              placeholder: \"Your email..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, _this), formErrors.email.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errorMessage\",\n              children: formErrors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"phoneNumber\",\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 20\n            }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: function onChange(e) {\n                return setPhoneNumber(e.target.value);\n              },\n              id: \"PhoneNumber\",\n              name: \"phoneNumber\",\n              value: phoneNumber,\n              placeholder: \"Your phone Number..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 19\n            }, _this), formErrors.phoneNumber.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errorMessage\",\n              children: formErrors.phoneNumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 21\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"address\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 20\n            }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              onChange: function onChange(e) {\n                return setAddress(e.target.value);\n              },\n              id: \"address\",\n              name: \"address\",\n              value: address,\n              placeholder: \"Your Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, _this), formErrors.address.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errorMessage\",\n              children: formErrors.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 21\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 17\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"submit\",\n          children: profile._id ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"submit\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 25\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 21\n          }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"submit\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 25\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 31\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 7\n  }, _this);\n};\n\n_s(ProfileEdit, \"ak3AzaL4bHJHT3sFc2e6v2XBB9s=\");\n\n_c = ProfileEdit;\nexport default ProfileEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileEdit\");","map":{"version":3,"sources":["H:/G4 Logistics/FrontEnd/components/profile/profileEdit.js"],"names":["React","useContext","useState","useEffect","ClientContext","avatar","generatePublicUrl","profileValidate","ProfileEdit","initialState","firstName","lastName","email","phoneNumber","address","profileImage","formErrors","setCount","profile","temporaryImage","setFirstName","setLastName","setEmail","setPhoneNumber","setAddress","setProfileImage","form","setForm","handleProfilePreview","e","preventDefault","FormData","append","entries","pair","console","log","handleProfileChange","target","files","Format","hold","URL","createObjectURL","setTemporaryImage","revokeObjectURL","updatedProfile","_id","name","value","length"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect} from 'react';\r\nimport { ClientContext } from '../context/ClientContext';\r\nimport {avatar} from \"../../svg\";\r\nimport {generatePublicUrl} from '../../urlConfig';\r\nimport { profileValidate } from '../validator/validate';\r\n\r\n\r\nconst ProfileEdit = () => {\r\n\r\n  const initialState = {\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    phoneNumber: '', \r\n    address: '',\r\n    profileImage: '',\r\n    formErrors: {\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      phoneNumber: '', \r\n      address: ''\r\n    }\r\n  }\r\n\r\n    const {setCount, profile, temporaryImage} = useContext(ClientContext);\r\n    const [firstName, setFirstName] = useState(initialState ? initialState.firstName: ''); \r\n    const [lastName, setLastName] = useState(initialState ? initialState.lastName: ''); \r\n    const [email, setEmail] = useState(initialState ? initialState.email: ''); \r\n    const [phoneNumber, setPhoneNumber] = useState(initialState ? initialState.phoneNumber: ''); \r\n    const [address, setAddress] = useState(initialState ? initialState.address: '');\r\n    const [profileImage, setProfileImage] = useState(initialState ? initialState.profileImage: '');\r\n    \r\n    const[form, setForm] = useState();\r\n\r\n    const handleProfilePreview = (e) => {\r\n      e.preventDefault();\r\n      let form = new FormData();\r\n      form.append('profileImage', profileImage)\r\n      form.append('firstName', firstName);\r\n      form.append('email', email);\r\n      form.append('lastName', lastName);\r\n      form.append('phoneNumber',  phoneNumber);\r\n      form.append('address',  address);\r\n           for(let pair of form.entries()){\r\n            console.log([pair[0]+ ',' + pair[1]])\r\n      }\r\n      setForm(form);\r\n      setCount('active');\r\n    }\r\n\r\n    const handleProfileChange = (e) => {\r\n      e.preventDefault();  \r\n      \r\n      if(e.target.files){\r\n       setProfileImage(e.target.files[0])\r\n        let Format = ['image/jpeg', 'image/png', 'image/gif', 5000000];\r\n       let hold = URL.createObjectURL(e.target.files[0]);\r\n       setTemporaryImage(hold);\r\n       URL.revokeObjectURL(e.target.files[0]);   \r\n    }\r\n};\r\n\r\nuseEffect(()=>{\r\nupdatedProfile();\r\n}, [profile])\r\n\r\nuseEffect(()=>{\r\n  let form = new FormData();\r\n  form.append('firstName', firstName);\r\n  form.append('lastName', lastName);\r\n  form.append('email', email);\r\n  form.append('phoneNumber', phoneNumber);\r\n  form.append('address', address);\r\n  form.append('profileImage', profileImage);\r\n  setForm(form);\r\n  for(let pair of form.entries()){\r\n    console.log([pair[0]+ ',' + pair[1]])\r\n}\r\n}, [])\r\n\r\n\r\n   const updatedProfile = () => {\r\n     if(profile.firstName !== ''){\r\n      let {firstName, lastName,email, phoneNumber, address, profileImage} = profile;\r\n      setFirstName(firstName);\r\n      setLastName(lastName);\r\n      setPhoneNumber(phoneNumber);\r\n      setProfileImage(profileImage);\r\n      setAddress(address);\r\n      setEmail(email);\r\n     }\r\n   }\r\n    \r\n    const {formErrors} = initialState;\r\n   \r\n  console.log(firstName);\r\n    return (\r\n      <div className=\"profile-wrapper\">\r\n            <div  className=\"user-profile\">\r\n            <div className=\"profile-avatar\">\r\n              {\r\n                temporaryImage || profileImage ? <img src={temporaryImage ? temporaryImage : generatePublicUrl(profileImage)} /> : (<div> \r\n                <input type=\"file\" name=\"profilePicture\" onChange={ handleProfileChange } id=\"file\" accept=\"/.jpg, .png, gif\" />\r\n                <label htmlFor=\"file\">\r\n                  {avatar()}<h4>Upload avatar</h4>\r\n                </label>\r\n                </div>) \r\n              }\r\n            </div>   \r\n          <form onSubmit={  profile._id && ((e) => handleProfilePreview(e)) }>\r\n            <div className=\"user\">\r\n                <p>\r\n                <label htmlFor=\"firstName\">First Name</label>\r\n                  <input type=\"text\" onChange={ (e)=>{\r\n                    let {name, value} = e.target;\r\n                    profileValidate(name, value, formErrors);\r\n                     setFirstName(e.target.value)} \r\n                     } id=\"firstName\" name=\"firstName\"  value={firstName} placeholder=\"Your name..\"/>\r\n                  {formErrors.firstName.length > 0  && (\r\n                    <span className=\"errorMessage\">{formErrors.firstName}</span>\r\n                  )}\r\n                </p>\r\n                <p>\r\n                <label htmlFor=\"lastName\">Last Name</label>\r\n                  <input type=\"text\" onChange={(e)=> setLastName(e.target.value) } id=\"lastName\" name=\"lastName\" value={lastName} placeholder=\"Your last name..\"/>\r\n                  {formErrors.lastName.length > 0  && (\r\n                    <span className=\"errorMessage\">{formErrors.lastName}</span>\r\n                  )}\r\n                </p>\r\n                <p>\r\n                <label htmlFor=\"email\">Email</label>\r\n                  <input type=\"text\" onChange={ (e)=> setEmail(e.target.value) } id=\"email\" name=\"email\" value={email} placeholder=\"Your email..\"/>\r\n                  {formErrors.email.length > 0  && (\r\n                    <span className=\"errorMessage\">{formErrors.email}</span>\r\n                  )}\r\n                </p>\r\n                <p><label htmlFor=\"phoneNumber\">Phone Number</label>\r\n                  <input type=\"text\" onChange={ (e)=> setPhoneNumber(e.target.value) } id=\"PhoneNumber\" name=\"phoneNumber\" value={ phoneNumber} placeholder=\"Your phone Number..\"/>\r\n                  {formErrors.phoneNumber.length > 0  && (\r\n                    <span className=\"errorMessage\">{formErrors.phoneNumber}</span>\r\n                  )}\r\n                </p>       \r\n                <p><label htmlFor=\"address\">Address</label>\r\n                  <input type=\"text\" onChange={ (e)=> setAddress(e.target.value) } id=\"address\" name=\"address\" value={address} placeholder=\"Your Address\"/>\r\n                  {formErrors.address.length > 0  && (\r\n                    <span className=\"errorMessage\">{formErrors.address}</span>\r\n                  )}</p>\r\n              </div>\r\n              <div className=\"submit\" >\r\n                { profile._id ? (\r\n                    <div className=\"submit\">\r\n                        <input type=\"submit\" value=\"Preview\"/>\r\n                    </div>): (<div className=\"submit\">\r\n                        <input type=\"submit\" value=\"Update\"/>\r\n                    </div>) } \r\n              </div> \r\n          </form>\r\n          \r\n          \r\n        </div>\r\n      </div>  \r\n    )}\r\n    \r\nexport default ProfileEdit;"]},"metadata":{},"sourceType":"module"}