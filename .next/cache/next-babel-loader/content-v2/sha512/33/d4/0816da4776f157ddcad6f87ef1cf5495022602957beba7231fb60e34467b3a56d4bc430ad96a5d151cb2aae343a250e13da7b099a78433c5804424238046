{"ast":null,"code":"import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { api } from '../urlConfig'; // export const token = async() => {\n//     if(localStorage){\n//         return await localStorage && localStorage.getItem('token');\n//     }else {\n//         return null\n//     }\n// }\n\nexport const axiosHelper = () => {\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    console.log(token);\n    setToken(token);\n  }, []);\n  const {\n    0: token,\n    1: setToken\n  } = useState();\n  return axiosInstance = axios.create({\n    baseURL: api,\n    headers: {\n      'Authorization': token ? `Bearer ${token}` : ''\n    }\n  });\n};\nexport default axiosHelper;","map":{"version":3,"sources":["H:/G4 Logistics/FrontEnd/helpers/axios.js"],"names":["axios","useEffect","useState","api","axiosHelper","token","localStorage","getItem","console","log","setToken","axiosInstance","create","baseURL","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,GAAT,QAAoB,cAApB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAM;AAE7BH,EAAAA,SAAS,CAAG,MAAM;AACd,UAAMI,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACAK,IAAAA,QAAQ,CAACL,KAAD,CAAR;AAEF,GALO,EAKL,EALK,CAAT;AAMC,QAAM;AAAA,OAACA,KAAD;AAAA,OAAQK;AAAR,MAAoBR,QAAQ,EAAlC;AAGD,SAAQS,aAAa,GAAGX,KAAK,CAACY,MAAN,CAAa;AAChCC,IAAAA,OAAO,EAAEV,GADuB;AAEhCW,IAAAA,OAAO,EAAE;AACL,uBACAT,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAsB;AAFtB;AAFuB,GAAb,CAAxB;AAQH,CAnBM;AAuBP,eAAeD,WAAf","sourcesContent":["import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { api } from '../urlConfig';\r\n\r\n// export const token = async() => {\r\n//     if(localStorage){\r\n//         return await localStorage && localStorage.getItem('token');\r\n//     }else {\r\n//         return null\r\n//     }\r\n    \r\n// }\r\n\r\nexport const axiosHelper = () => {\r\n\r\n    useEffect ( () => {\r\n        const token = localStorage.getItem('token');\r\n        console.log(token);\r\n        setToken(token);\r\n    \r\n     }, []);\r\n     const [token, setToken] = useState();\r\n     \r\n     \r\n    return  axiosInstance = axios.create({\r\n         baseURL: api,\r\n         headers: {\r\n             'Authorization': \r\n             token ? `Bearer ${token}`: ''\r\n         }\r\n     });\r\n\r\n}\r\n\r\n\r\n\r\nexport default axiosHelper;"]},"metadata":{},"sourceType":"module"}